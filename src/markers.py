import matplotlib as mpl
from svgpath2mpl import parse_path

class MarkerGenerator():
    """
    Class for creating the custom markers used for displaying switches and hosts.
    Since NetworkX does not support custom images by default, the markers are converted to .svg.
    Their respective SVG path values are stored, transformed and used in the underlying matplotlib function.
    """
    
    def __init__(self):
        self.host_marker = parse_path("""M 88.62,151.12
           C 88.62,151.12 85.62,153.50 85.62,153.50
             85.62,153.50 85.25,295.88 85.25,295.88
             85.00,397.87 85.38,439.12 86.38,441.50
             87.12,443.38 89.38,445.37 91.50,446.12
             96.88,448.00 543.12,448.00 548.50,446.12
             550.62,445.37 552.88,443.38 553.62,441.50
             554.62,439.12 555.00,397.87 554.75,295.88
             554.75,295.88 554.38,153.50 554.38,153.50
             554.38,153.50 551.38,151.12 551.38,151.12
             548.50,148.75 543.12,148.75 320.00,148.75
             96.88,148.75 91.50,148.75 88.62,151.12 Z
           M 536.25,298.12
           C 536.25,298.12 536.25,428.75 536.25,428.75
             536.25,428.75 320.00,428.75 320.00,428.75
             320.00,428.75 103.75,428.75 103.75,428.75
             103.75,428.75 103.75,298.12 103.75,298.12
             103.75,298.12 103.75,167.50 103.75,167.50
             103.75,167.50 320.00,167.50 320.00,167.50
             320.00,167.50 536.25,167.50 536.25,167.50
             536.25,167.50 536.25,298.12 536.25,298.12 Z
           M 73.75,116.88
           C 66.25,119.25 58.38,126.12 54.75,133.50
             54.75,133.50 51.88,139.38 51.88,139.38
             51.88,139.38 51.50,300.12 51.50,300.12
             51.50,300.12 51.25,461.00 51.25,461.00
             51.25,461.00 39.38,461.50 39.38,461.50
             22.50,462.25 22.50,462.12 22.50,483.75
             22.50,499.50 22.75,501.25 25.75,507.25
             29.75,515.12 37.00,521.12 45.38,523.38
             50.62,524.75 101.50,525.00 319.62,525.00
             500.75,525.00 589.38,524.62 593.38,523.75
             602.00,521.88 610.25,515.38 614.25,507.38
             617.25,501.25 617.50,499.62 617.50,483.75
             617.50,462.12 617.50,462.25 600.62,461.50
             600.62,461.50 588.75,461.00 588.75,461.00
             588.75,461.00 588.50,300.12 588.50,300.12
             588.50,300.12 588.12,139.38 588.12,139.38
             588.12,139.38 585.25,133.50 585.25,133.50
             583.62,130.25 580.12,125.62 577.50,123.25
             567.75,114.38 586.00,115.00 319.50,115.12
             117.63,115.12 78.50,115.50 73.75,116.88 Z
           M 565.25,138.50
           C 565.25,138.50 569.38,142.50 569.38,142.50
             569.38,142.50 569.75,301.88 569.75,301.88
             569.75,301.88 570.00,461.25 570.00,461.25
             570.00,461.25 475.50,461.50 475.50,461.50
             475.50,461.50 381.00,461.88 381.00,461.88
             381.00,461.88 378.63,464.88 378.63,464.88
             377.38,466.50 376.25,469.38 376.25,471.38
             376.25,471.38 376.25,475.00 376.25,475.00
             376.25,475.00 320.00,475.00 320.00,475.00
             320.00,475.00 263.75,475.00 263.75,475.00
             263.75,475.00 263.75,471.75 263.75,471.75
             263.75,467.00 261.75,464.12 257.38,462.62
             254.63,461.62 225.38,461.25 161.62,461.25
             161.62,461.25 70.00,461.25 70.00,461.25
             70.00,461.25 70.25,302.00 70.25,302.00
             70.25,302.00 70.62,142.75 70.62,142.75
             70.62,142.75 73.75,139.38 73.75,139.38
             75.50,137.50 78.00,135.50 79.38,135.00
             80.75,134.38 189.75,134.00 321.50,134.12
             321.50,134.12 561.25,134.38 561.25,134.38
             561.25,134.38 565.25,138.50 565.25,138.50 Z
           M 245.00,484.12
           C 245.00,486.62 246.00,489.38 247.50,491.00
             247.50,491.00 250.13,493.75 250.13,493.75
             250.13,493.75 320.00,493.75 320.00,493.75
             320.00,493.75 389.88,493.75 389.88,493.75
             389.88,493.75 392.50,491.00 392.50,491.00
             394.00,489.38 395.00,486.62 395.00,484.12
             395.00,484.12 395.00,480.00 395.00,480.00
             395.00,480.00 496.88,480.00 496.88,480.00
             496.88,480.00 598.75,480.00 598.75,480.00
             598.75,480.00 598.75,488.50 598.75,488.50
             598.75,497.88 597.12,501.38 591.25,504.38
             588.12,506.00 555.00,506.25 320.00,506.25
             85.00,506.25 51.88,506.00 48.75,504.38
             42.88,501.38 41.25,497.88 41.25,488.50
             41.25,488.50 41.25,480.00 41.25,480.00
             41.25,480.00 143.12,480.00 143.12,480.00
             143.12,480.00 245.00,480.00 245.00,480.00
             245.00,480.00 245.00,484.12 245.00,484.12 Z""")

        self.switch_marker = parse_path("""M 87.50,612.50
           C 87.50,612.50 87.50,625.00 87.50,625.00
             87.50,625.00 100.00,625.00 100.00,625.00
             100.00,625.00 112.50,625.00 112.50,625.00
             112.50,625.00 112.50,612.50 112.50,612.50
             112.50,612.50 112.50,600.00 112.50,600.00
             112.50,600.00 100.00,600.00 100.00,600.00
             100.00,600.00 87.50,600.00 87.50,600.00
             87.50,600.00 87.50,612.50 87.50,612.50 Z
           M 87.50,562.50
           C 87.50,562.50 87.50,575.00 87.50,575.00
             87.50,575.00 100.00,575.00 100.00,575.00
             100.00,575.00 112.50,575.00 112.50,575.00
             112.50,575.00 112.50,562.50 112.50,562.50
             112.50,562.50 112.50,550.00 112.50,550.00
             112.50,550.00 100.00,550.00 100.00,550.00
             100.00,550.00 87.50,550.00 87.50,550.00
             87.50,550.00 87.50,562.50 87.50,562.50 Z
           M 605.25,501.25
           C 603.75,501.88 601.88,504.00 601.12,505.88
             600.38,508.00 600.00,526.75 600.25,558.25
             600.75,616.50 599.62,612.50 615.25,612.50
             615.25,612.50 625.00,612.50 625.00,612.50
             625.00,612.50 625.00,622.25 625.00,622.25
             625.00,637.50 623.38,636.88 662.50,636.88
             701.63,636.88 700.00,637.50 700.00,622.25
             700.00,622.25 700.00,612.50 700.00,612.50
             700.00,612.50 709.75,612.50 709.75,612.50
             725.50,612.50 724.38,616.75 724.38,556.12
             724.38,508.75 724.25,504.88 722.12,502.87
             720.12,500.75 715.88,500.62 664.00,500.37
             632.00,500.25 606.88,500.62 605.25,501.25 Z
           M 700.00,556.25
           C 700.00,556.25 700.00,587.50 700.00,587.50
             700.00,587.50 690.62,587.50 690.62,587.50
             682.25,587.50 680.75,587.88 678.12,590.62
             675.38,593.25 675.00,594.75 675.00,603.12
             675.00,603.12 675.00,612.50 675.00,612.50
             675.00,612.50 662.50,612.50 662.50,612.50
             662.50,612.50 650.00,612.50 650.00,612.50
             650.00,612.50 650.00,603.12 650.00,603.12
             650.00,594.75 649.62,593.25 646.88,590.62
             644.25,587.88 642.75,587.50 634.38,587.50
             634.38,587.50 625.00,587.50 625.00,587.50
             625.00,587.50 625.00,556.25 625.00,556.25
             625.00,556.25 625.00,525.00 625.00,525.00
             625.00,525.00 662.50,525.00 662.50,525.00
             662.50,525.00 700.00,525.00 700.00,525.00
             700.00,525.00 700.00,556.25 700.00,556.25 Z
           M 455.25,501.25
           C 453.75,501.88 451.88,504.00 451.13,505.88
             450.38,508.00 450.00,526.75 450.25,558.25
             450.75,616.50 449.63,612.50 465.25,612.50
             465.25,612.50 475.00,612.50 475.00,612.50
             475.00,612.50 475.00,622.25 475.00,622.25
             475.00,637.50 473.38,636.88 512.50,636.88
             551.62,636.88 550.00,637.50 550.00,622.25
             550.00,622.25 550.00,612.50 550.00,612.50
             550.00,612.50 559.75,612.50 559.75,612.50
             575.50,612.50 574.38,616.75 574.38,556.12
             574.38,508.75 574.25,504.88 572.12,502.87
             570.12,500.75 565.88,500.62 514.00,500.37
             482.00,500.25 456.88,500.62 455.25,501.25 Z
           M 550.00,556.25
           C 550.00,556.25 550.00,587.50 550.00,587.50
             550.00,587.50 540.62,587.50 540.62,587.50
             532.25,587.50 530.75,587.88 528.12,590.62
             525.38,593.25 525.00,594.75 525.00,603.12
             525.00,603.12 525.00,612.50 525.00,612.50
             525.00,612.50 512.50,612.50 512.50,612.50
             512.50,612.50 500.00,612.50 500.00,612.50
             500.00,612.50 500.00,603.12 500.00,603.12
             500.00,594.75 499.63,593.25 496.88,590.62
             494.25,587.88 492.75,587.50 484.38,587.50
             484.38,587.50 475.00,587.50 475.00,587.50
             475.00,587.50 475.00,556.25 475.00,556.25
             475.00,556.25 475.00,525.00 475.00,525.00
             475.00,525.00 512.50,525.00 512.50,525.00
             512.50,525.00 550.00,525.00 550.00,525.00
             550.00,525.00 550.00,556.25 550.00,556.25 Z
           M 305.25,501.25
           C 303.75,501.88 301.88,504.00 301.12,505.88
             300.38,508.00 300.00,526.75 300.25,558.25
             300.75,616.50 299.62,612.50 315.25,612.50
             315.25,612.50 325.00,612.50 325.00,612.50
             325.00,612.50 325.00,622.25 325.00,622.25
             325.00,637.50 323.38,636.88 362.50,636.88
             401.62,636.88 400.00,637.50 400.00,622.25
             400.00,622.25 400.00,612.50 400.00,612.50
             400.00,612.50 409.75,612.50 409.75,612.50
             425.50,612.50 424.38,616.75 424.38,556.12
             424.38,508.75 424.25,504.88 422.13,502.87
             420.12,500.75 415.88,500.62 364.00,500.37
             332.00,500.25 306.88,500.62 305.25,501.25 Z
           M 400.00,556.25
           C 400.00,556.25 400.00,587.50 400.00,587.50
             400.00,587.50 390.62,587.50 390.62,587.50
             382.25,587.50 380.75,587.88 378.12,590.62
             375.38,593.25 375.00,594.75 375.00,603.12
             375.00,603.12 375.00,612.50 375.00,612.50
             375.00,612.50 362.50,612.50 362.50,612.50
             362.50,612.50 350.00,612.50 350.00,612.50
             350.00,612.50 350.00,603.12 350.00,603.12
             350.00,594.75 349.62,593.25 346.88,590.62
             344.25,587.88 342.75,587.50 334.38,587.50
             334.38,587.50 325.00,587.50 325.00,587.50
             325.00,587.50 325.00,556.25 325.00,556.25
             325.00,556.25 325.00,525.00 325.00,525.00
             325.00,525.00 362.50,525.00 362.50,525.00
             362.50,525.00 400.00,525.00 400.00,525.00
             400.00,525.00 400.00,556.25 400.00,556.25 Z
           M 155.25,501.25
           C 153.75,501.88 151.88,504.00 151.12,505.88
             150.38,508.00 150.00,526.75 150.25,558.25
             150.75,616.50 149.62,612.50 165.25,612.50
             165.25,612.50 175.00,612.50 175.00,612.50
             175.00,612.50 175.00,622.25 175.00,622.25
             175.00,637.50 173.38,636.88 212.50,636.88
             251.62,636.88 250.00,637.50 250.00,622.25
             250.00,622.25 250.00,612.50 250.00,612.50
             250.00,612.50 259.75,612.50 259.75,612.50
             275.50,612.50 274.38,616.75 274.38,556.12
             274.38,508.75 274.25,504.88 272.12,502.87
             270.12,500.75 265.88,500.62 214.00,500.37
             182.00,500.25 156.88,500.62 155.25,501.25 Z
           M 250.00,556.25
           C 250.00,556.25 250.00,587.50 250.00,587.50
             250.00,587.50 240.62,587.50 240.62,587.50
             232.25,587.50 230.75,587.88 228.12,590.62
             225.38,593.25 225.00,594.75 225.00,603.12
             225.00,603.12 225.00,612.50 225.00,612.50
             225.00,612.50 212.50,612.50 212.50,612.50
             212.50,612.50 200.00,612.50 200.00,612.50
             200.00,612.50 200.00,603.12 200.00,603.12
             200.00,594.75 199.63,593.25 196.88,590.62
             194.25,587.88 192.75,587.50 184.38,587.50
             184.38,587.50 175.00,587.50 175.00,587.50
             175.00,587.50 175.00,556.25 175.00,556.25
             175.00,556.25 175.00,525.00 175.00,525.00
             175.00,525.00 212.50,525.00 212.50,525.00
             212.50,525.00 250.00,525.00 250.00,525.00
             250.00,525.00 250.00,556.25 250.00,556.25 Z
           M 87.50,512.50
           C 87.50,512.50 87.50,525.00 87.50,525.00
             87.50,525.00 100.00,525.00 100.00,525.00
             100.00,525.00 112.50,525.00 112.50,525.00
             112.50,525.00 112.50,512.50 112.50,512.50
             112.50,512.50 112.50,500.00 112.50,500.00
             112.50,500.00 100.00,500.00 100.00,500.00
             100.00,500.00 87.50,500.00 87.50,500.00
             87.50,500.00 87.50,512.50 87.50,512.50 Z
           M 78.25,201.88
           C 77.12,203.00 75.75,206.00 75.12,208.50
             73.00,216.75 63.12,264.62 43.75,360.62
             43.75,360.62 25.00,454.38 25.00,454.38
             25.00,454.38 25.25,568.38 25.25,568.38
             25.62,675.88 25.75,682.50 27.88,684.62
             30.00,686.75 46.63,686.88 400.00,686.88
             753.38,686.88 770.00,686.75 772.12,684.62
             774.25,682.50 774.38,675.88 774.75,568.25
             774.75,568.25 775.00,454.25 775.00,454.25
             775.00,454.25 753.12,345.50 753.12,345.50
             726.50,213.38 724.88,205.75 721.88,202.50
             719.62,200.00 719.00,200.00 399.88,200.00
             113.25,200.00 80.00,200.25 78.25,201.88 Z
           M 703.00,235.75
           C 704.25,241.62 705.50,247.25 705.88,248.25
             706.38,249.75 702.75,250.00 684.50,250.00
             684.50,250.00 662.50,250.00 662.50,250.00
             662.50,250.00 662.50,262.38 662.50,262.38
             662.50,262.38 662.50,274.62 662.50,274.62
             662.50,274.62 674.00,275.50 674.00,275.50
             680.25,275.88 691.12,276.25 698.25,276.25
             698.25,276.25 711.12,276.25 711.12,276.25
             711.12,276.25 713.12,285.62 713.12,285.62
             714.38,290.75 715.00,295.75 714.62,296.75
             713.62,299.25 707.75,300.00 690.50,300.00
             690.50,300.00 675.00,300.00 675.00,300.00
             675.00,300.00 675.00,312.50 675.00,312.50
             675.00,312.50 675.00,325.00 675.00,325.00
             675.00,325.00 698.00,325.00 698.00,325.00
             698.00,325.00 721.00,325.00 721.00,325.00
             721.00,325.00 723.12,336.25 723.12,336.25
             724.38,342.50 724.88,348.00 724.50,348.50
             724.00,349.00 715.50,349.50 705.50,349.75
             705.50,349.75 687.50,350.25 687.50,350.25
             687.50,350.25 687.50,362.50 687.50,362.50
             687.50,362.50 687.50,374.75 687.50,374.75
             687.50,374.75 708.25,375.25 708.25,375.25
             726.63,375.62 729.13,375.88 730.62,377.87
             732.75,380.75 735.75,397.12 734.50,398.50
             734.00,399.00 726.00,399.62 716.75,399.75
             716.75,399.75 700.00,400.25 700.00,400.25
             700.00,400.25 700.00,412.62 700.00,412.62
             700.00,412.62 700.00,425.00 700.00,425.00
             700.00,425.00 720.62,425.00 720.62,425.00
             720.62,425.00 741.12,425.00 741.12,425.00
             741.12,425.00 742.00,429.62 742.00,429.62
             742.38,432.25 743.50,437.88 744.38,442.12
             744.38,442.12 746.00,450.00 746.00,450.00
             746.00,450.00 400.00,450.00 400.00,450.00
             400.00,450.00 54.13,450.00 54.13,450.00
             54.13,450.00 56.63,437.50 56.63,437.50
             56.63,437.50 59.13,425.00 59.13,425.00
             59.13,425.00 79.50,425.00 79.50,425.00
             79.50,425.00 100.00,425.00 100.00,425.00
             100.00,425.00 100.00,412.62 100.00,412.62
             100.00,412.62 100.00,400.25 100.00,400.25
             100.00,400.25 83.25,399.75 83.25,399.75
             74.00,399.62 66.00,399.00 65.50,398.50
             64.25,397.12 67.25,380.75 69.38,377.87
             70.88,375.88 73.38,375.62 91.75,375.25
             91.75,375.25 112.50,374.75 112.50,374.75
             112.50,374.75 112.50,362.50 112.50,362.50
             112.50,362.50 112.50,350.25 112.50,350.25
             112.50,350.25 94.50,349.75 94.50,349.75
             84.50,349.50 76.00,349.00 75.50,348.50
             75.12,348.00 75.62,342.50 76.88,336.25
             76.88,336.25 79.00,325.00 79.00,325.00
             79.00,325.00 102.00,325.00 102.00,325.00
             102.00,325.00 125.00,325.00 125.00,325.00
             125.00,325.00 125.00,312.50 125.00,312.50
             125.00,312.50 125.00,300.00 125.00,300.00
             125.00,300.00 109.50,300.00 109.50,300.00
             92.25,300.00 86.38,299.25 85.38,296.75
             85.00,295.75 85.62,290.75 86.88,285.62
             86.88,285.62 88.88,276.25 88.88,276.25
             88.88,276.25 101.75,276.25 101.75,276.25
             108.88,276.25 119.75,275.88 126.00,275.50
             126.00,275.50 137.50,274.62 137.50,274.62
             137.50,274.62 137.50,262.38 137.50,262.38
             137.50,262.38 137.50,250.00 137.50,250.00
             137.50,250.00 115.50,250.00 115.50,250.00
             97.25,250.00 93.62,249.75 94.12,248.25
             94.50,247.25 95.75,241.62 97.00,235.75
             97.00,235.75 99.13,225.00 99.13,225.00
             99.13,225.00 400.00,225.00 400.00,225.00
             400.00,225.00 700.88,225.00 700.88,225.00
             700.88,225.00 703.00,235.75 703.00,235.75 Z
           M 750.00,568.75
           C 750.00,568.75 750.00,662.50 750.00,662.50
             750.00,662.50 400.00,662.50 400.00,662.50
             400.00,662.50 50.00,662.50 50.00,662.50
             50.00,662.50 50.00,568.75 50.00,568.75
             50.00,568.75 50.00,475.00 50.00,475.00
             50.00,475.00 400.00,475.00 400.00,475.00
             400.00,475.00 750.00,475.00 750.00,475.00
             750.00,475.00 750.00,568.75 750.00,568.75 Z""")

        self.host_marker.vertices -= self.host_marker.vertices.mean(axis=0)
        self.host_marker = self.host_marker.transformed(mpl.transforms.Affine2D().rotate_deg(180))
        self.host_marker = self.host_marker.transformed(mpl.transforms.Affine2D().scale(-1,1))

        self.switch_marker.vertices -= self.switch_marker.vertices.mean(axis=0)
        self.switch_marker = self.switch_marker.transformed(mpl.transforms.Affine2D().rotate_deg(180))
        self.switch_marker = self.switch_marker.transformed(mpl.transforms.Affine2D().scale(-1,1))

        